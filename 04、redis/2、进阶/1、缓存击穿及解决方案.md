## 缓存击穿



#### 1、概念

在某一个时刻下，有大量的并发去请求redis中的一个key，在大量请求的时候这个key突然过期了，那么大量的请求就会跳过redis层，直接访问mysql，但是mysql的并发能力有限，所以会导致我们的服务器宕机。





#### 2、解决方案

确保只有1个请求能够到达mysql层，其余的请求等待这个请求处理完成之后，再判断一次redis中是否有数据。

```java

if(redis中是否有数据 == true){
    这儿直接返回
}else{
    
    //开始访问mysql
    
    //获取锁
    if(获取到了锁){
        if(redis中是否有数据 == true){
            直接返回
        }else{
            //开始访问mysql
            //并把得到的结果放到redis中
        }
        
    }
    
}


```

