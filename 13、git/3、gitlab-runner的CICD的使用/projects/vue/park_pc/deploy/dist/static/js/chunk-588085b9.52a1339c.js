(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-588085b9","chunk-263c3fbd"],{"3a085":function(t,e,a){},"3f9d":function(t,e,a){},"48a7":function(t,e,a){"use strict";a("3a085")},"6a0c":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"record"},[a("page-title",{attrs:{title:"起落杆记录列表"}}),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.postList}},[a("el-table-column",{attrs:{label:"序号",align:"center",type:"index",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.$index+(t.queryParams.pageNum-1)*t.queryParams.pageSize+1))])]}}])}),a("el-table-column",{attrs:{label:"场库",align:"center",prop:"parkName"}}),a("el-table-column",{attrs:{label:"通道",align:"center",prop:"passageName"}}),a("el-table-column",{attrs:{label:"时间",align:"center",prop:"createTime"}}),a("el-table-column",{attrs:{label:"操作类型",align:"center",prop:"operateType"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.showDictLabel(t.dict.type.operate_type,e.row.operateType)))])]}}])}),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark"}})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{total:t.total,page:t.queryParams.pageNum,limit:t.queryParams.pageSize},on:{"update:page":function(e){return t.$set(t.queryParams,"pageNum",e)},"update:limit":function(e){return t.$set(t.queryParams,"pageSize",e)},pagination:t.getList}}),a("el-dialog",{attrs:{title:t.title,visible:t.open,width:"500px","append-to-body":""},on:{"update:visible":function(e){t.open=e}}},[a("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"标题",prop:"fieldName"}},[a("el-input",{attrs:{placeholder:"请输入起落杆记录名称"},model:{value:t.form.fieldName,callback:function(e){t.$set(t.form,"fieldName",e)},expression:"form.fieldName"}})],1),a("el-form-item",{attrs:{label:"车位数",prop:"spaceCount"}},[a("el-input",{attrs:{type:"number",placeholder:"请输入车位数"},model:{value:t.form.spaceCount,callback:function(e){t.$set(t.form,"spaceCount",e)},expression:"form.spaceCount"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"fieldStatus"}},[a("el-radio-group",{model:{value:t.form.fieldStatus,callback:function(e){t.$set(t.form,"fieldStatus",e)},expression:"form.fieldStatus"}},t._l(t.dict.type.field_status,(function(e){return a("el-radio",{key:e.value,attrs:{label:e.value}},[t._v(t._s(e.label))])})),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("确 定")]),a("el-button",{on:{click:t.cancel}},[t._v("取 消")])],1)],1)],1)},r=[],i=a("46fc"),o=a("559a"),s=(a("2fcd"),a("f721"),a("9e64"),a("b775"));function l(t){return Object(s["a"])({url:"/parking/records/list",method:"get",params:t})}function u(t){return Object(s["a"])({url:"/parking/records/"+t,method:"get"})}function c(t){return Object(s["a"])({url:"/parking/records",method:"post",data:t})}function d(t){return Object(s["a"])({url:"/parking/records",method:"put",data:t})}function p(t){return Object(s["a"])({url:"/parking/records/"+t,method:"delete"})}var f=a("ee56"),m={name:"Post",dicts:["field_status","operate_type"],components:{pageTitle:f["default"]},data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,postList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,parkNo:200},form:{},rules:{fieldName:[{required:!0,message:"标题不能为空",trigger:"blur"}],spaceCount:[{required:!0,message:"车位数不能为空",trigger:"blur"}]}}},created:function(){this.getList()},methods:{showDictLabel:function(t,e){var a;return(null===(a=t.find((function(t){return t.value==e})))||void 0===a?void 0:a.label)||"--"},getList:function(){var t=this;this.loading=!0,l(this.queryParams).then((function(e){t.postList=e.rows,t.total=e.total,t.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){var t;this.form=(t={fieldName:void 0,spaceCount:void 0},Object(o["a"])(t,"fieldName",void 0),Object(o["a"])(t,"fieldStatus","1"),t),this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(t){this.ids=t.map((function(t){return t.postId})),this.single=1!=t.length,this.multiple=!t.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加起落杆记录"},handleUpdate:function(t){var e=this;this.reset(),u(t.id).then((function(t){e.form=t,e.open=!0,e.title="修改起落杆记录"}))},submitForm:function(){var t=this;this.$refs["form"].validate((function(e){e&&(void 0!=t.form.id?d(t.form).then((function(e){t.$modal.msgSuccess("修改成功"),t.open=!1,t.getList()})):(t.form.parkNo=t.queryParams.parkNo,c(t.form).then((function(e){t.$modal.msgSuccess("新增成功"),t.open=!1,t.getList()}))))}))},handleDelete:function(t){var e=this;this.$modal.confirm('是否确认删除起落杆记录名称为"'+t.fieldName+'"的数据项？').then((function(){return p({id:t.id})})).then((function(){e.getList(),e.$modal.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){this.download("system/post/export",Object(i["a"])({},this.queryParams),"post_".concat((new Date).getTime(),".xlsx"))}}},h=m,g=(a("9434"),a("e607")),b=Object(g["a"])(h,n,r,!1,null,"d2bd6970",null);e["default"]=b.exports},9434:function(t,e,a){"use strict";a("3f9d")},ee56:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pageTitle"},[a("div",{staticClass:"left-box"},[a("div",{staticClass:"line"}),a("div",{staticClass:"title"},[a("span",[t._v(t._s(t.title))])])]),a("div",{staticClass:"right-box"},[t._t("default")],2)])},r=[],i={components:{},props:{title:{type:String,default:""}},data:function(){return{}},computed:{},watch:{},methods:{},created:function(){},mounted:function(){}},o=i,s=(a("48a7"),a("e607")),l=Object(s["a"])(o,n,r,!1,null,"05add394",null);e["default"]=l.exports}}]);