(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5534c18b","chunk-2d0c4faa"],{"0dcc":function(t,e,s){"use strict";s("6ff5")},"3cae":function(t,e,s){"use strict";s.r(e),s.d(e,"getNoticeList",(function(){return a})),s.d(e,"editNotice",(function(){return n})),s.d(e,"getNoticeRecordList",(function(){return c}));var i=s("b775");function a(t){return Object(i["a"])({url:"parking/notifyTemplate/list",method:"get",params:t})}function n(t){return Object(i["a"])({url:"parking/notifyTemplate/edit",method:"post",data:t})}function c(t){return Object(i["a"])({url:"parking/notificationRecord/list",method:"get",params:t})}},"6ff5":function(t,e,s){},"98dc":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pushCon"},[s("div",{staticClass:"pushConTop"},[s("span",{staticClass:"tit"},[t._v(t._s(t.notice.name))]),s("el-switch",{attrs:{"active-color":"#ffffff","inactive-color":"#ffffff",width:80,"active-text":"开","inactive-text":"关"},on:{change:t.changeNotice},model:{value:t.notice.status,callback:function(e){t.$set(t.notice,"status",e)},expression:"notice.status"}})],1),t.notice.isEdit?s("div",{staticClass:"pushConBot"},[s("div",{staticClass:"temLi"},[s("span",{staticClass:"temTit"},[t._v("模板ID:")]),s("span",{staticClass:"temCon"},[t._v(t._s(t.notice.templateId))])]),s("div",{staticClass:"temLi"},[s("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入消息开始内容，例：您好，您已进入XX停车场",maxlength:"10","show-word-limit":""},model:{value:t.notice.firstData,callback:function(e){t.$set(t.notice,"firstData",e)},expression:"notice.firstData"}})],1),t._m(0),t._m(1),t._m(2),s("div",{staticClass:"temLi"},[s("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入消息结束内容，例：感谢您的使用。",maxlength:"20","show-word-limit":""},model:{value:t.notice.remarkData,callback:function(e){t.$set(t.notice,"remarkData",e)},expression:"notice.remarkData"}})],1),s("div",{staticClass:"temLi",staticStyle:{"justify-content":"flex-end"}},[s("el-button",{staticClass:"confirmButton",attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.editConfirm(!1)}}},[t._v("确定")]),s("el-button",{staticClass:"cancleButton",attrs:{size:"mini"},on:{click:function(e){t.notice.isEdit=!1}}},[t._v("取消")])],1)]):s("div",{staticClass:"pushConBot"},[t.notice.status?t._e():s("div",{staticClass:"grey"}),s("div",{staticClass:"temLi"},[s("span",{staticClass:"temTit"},[t._v("模板ID:")]),s("span",{staticClass:"temCon"},[t._v(t._s(t.notice.templateId))])]),s("div",{staticClass:"temBox"},[t.notice.status?s("div",{staticClass:"edit",on:{click:t.edit}},[s("i",{staticClass:"el-icon-edit"})]):t._e(),s("div",{staticClass:"temLi"},[s("span",{staticClass:"temConn"},[t._v(t._s(t.notice.firstData))])]),t._m(3),t._m(4),t._m(5),s("div",{staticClass:"temLi"},[s("span",{staticClass:"temConn"},[t._v(t._s(t.notice.remarkData))])]),t._m(6)])])])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"temLi"},[s("span",{staticClass:"temTit"},[t._v("停车场名称:")]),s("span",{staticClass:"temCon"},[t._v("XX停车场")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"temLi"},[s("span",{staticClass:"temTit"},[t._v("车牌号:")]),s("span",{staticClass:"temCon"},[t._v("苏D:XXXXXX")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"temLi"},[s("span",{staticClass:"temTit"},[t._v("进场时间:")]),s("span",{staticClass:"temCon"},[t._v("2022-02-06 12:23:00")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"temLi"},[s("span",{staticClass:"temTit"},[t._v("停车场名称:")]),s("span",{staticClass:"temCon"},[t._v("XX停车场")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"temLi"},[s("span",{staticClass:"temTit"},[t._v("车牌号:")]),s("span",{staticClass:"temCon"},[t._v("苏D:XXXXXX")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"temLi"},[s("span",{staticClass:"temTit"},[t._v("进场时间:")]),s("span",{staticClass:"temCon"},[t._v("2022-02-06 12:23:00")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"temLi temBtn"},[s("span",{staticClass:"temLeft"},[t._v("详情")]),s("span",{staticClass:"temRight"},[t._v(">")])])}],n=s("3600"),c=s("1c61"),o=s("3cae"),r={components:{},props:{noticeItem:{type:Object,default:function(){return{}}}},watch:{noticeItem:{handler:function(t,e){t&&(this.notice.status=1==this.noticeItem.status,this.notice.firstData=this.noticeItem.firstData,this.notice.remarkData=this.noticeItem.remarkData)},deep:!0}},data:function(){return{notice:{name:"入场通知",status:!1,templateId:"qMWOPqkj5bOx2_TDl1_6uNMYWtVwsonF-HL312PeWUA",firstData:"",remarkData:"",isEdit:!1}}},computed:{},methods:{edit:function(){this.notice.isEdit=!0},editConfirm:function(){var t=arguments,e=this;return Object(c["a"])(Object(n["a"])().mark((function s(){var i,a,c;return Object(n["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return i=t.length>0&&void 0!==t[0]&&t[0],a={id:e.noticeItem.id,parkNo:e.noticeItem.parkNo,templateId:e.notice.templateId,firstData:e.notice.firstData,remarkData:e.notice.remarkData,status:e.notice.status?1:0},s.next=4,Object(o["editNotice"])(a);case 4:c=s.sent,200==c.code?(i?e.notice.status?e.$message.success("开启入场通知成功！"):e.$message.success("关闭入场通知成功！"):e.$message.success("编辑入场通知成功！"),e.notice.isEdit=!1,e.$emit("isEdit",!0)):(i?e.notice.status?e.$message.error("关闭入场通知失败！"):e.$message.success("关闭入场通知失败！"):e.$message.error("编辑入场通知失败！"),e.notice.isEdit=!1,e.$emit("isEdit",!0));case 6:case"end":return s.stop()}}),s)})))()},changeNotice:function(t){this.notice.status=t,this.editConfirm(!0)}},created:function(){},mounted:function(){}},l=r,m=(s("0dcc"),s("e607")),u=Object(m["a"])(l,i,a,!1,null,"18eba8f6",null);e["default"]=u.exports}}]);