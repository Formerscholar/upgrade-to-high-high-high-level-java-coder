## 分库分表的概念

#### 一、分库：

①、垂直分库

把功能近似的表，放在一个数据库，另外功能近似的表放另一个数据库，就实现了垂直分库（各个数据库中表是不一样的）。

②、水平分库

根据表中的某个字段的某个规则，把符合规则的放到一个数据库，不符合规则的放到另一个数据库，比如id被2整除的放A库，不能被2整除的放B库。（各个数据库中表是一样的）



#### 二、分表：

①、垂直分表

把一张表里的某些字段拎出来放到另一张表里面去！被拎出来的字段一般都是不高频用的，或者数据量大的。

带来的提升：

1、表中的字段少了，在update一条数据的时候，更好有数据读取，就减少了锁表的几率

2、把大字段拎出去了，然后数据存在磁盘上就能存一页，而不需要跨页存取数据，带来了IO的提升



②、水平分表

根据表中的某个字段的某个规则，把符合规则的放到一个数据表，不符合规则的放到另一个数据表，比如id被2整除的放A表，不能被2整除的放B表。



#### 三、分库分表造成的问题：

1、事务一致性的问题

2、跨库关联查询的问题

3、主键避重问题，无法保证数据库主键不重复。