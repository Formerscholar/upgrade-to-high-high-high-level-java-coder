## shardingsphere Jdbc中的一些概念



#### 一、逻辑表：

虚拟出来的一张表，代码里面操作的是这张虚拟表，而虚拟表下面才是真实的物理表。例：订单数据表根据主键尾数拆分为10张表，分别为t_order_0,t_order_1……t_order_9，他们的逻辑表可以为t_order



 #### 二、真实表：

在分片的数据库中真实存在的物理表，即上个示例中的t_order_0.......t_order_9



#### 三、数据节点：

数据分片的最小物理单元。由数据源名称和真实数据表组成，例：ds_0.t_order_9



#### 四、绑定表：

指分片规则一致的主表和子表。例如：t_order订单表和t_order_item订单明细表，均按照order_id分片，绑定表之间的分区键（sharding-column）完全相同，则此两张表互为绑定表关系。绑定表之间的多表关联查询不会出现笛卡尔积关联，关联查询效率将大大提升。

例：现在有t_order_0、t_order_1两张表，有t_order_item_0、t_order_item_1这两张表，如果没有绑定表的关系，那么在关联查询的时候 inner join、left join，会有4种组合方式，而有绑定表的关系的时候，只会0对0 ，1对1，就大大提升了效率。



#### 五、广播表（公共表）：

指所有的分片数据源中都存在的表，表结构和表中的数据在每个数据库中完全一致。往这个表中插入一条记录，那么shardingjdbc会广播所有有这个表的数据源，然后都插入一条数据。适用于数据量不大且需要与海量数据的表进行关联查询的场景，例如：字典表



#### 六、分片键：

用于分片的数据库字段，是将数据库（表）水平拆分的关键字段。



##### 七、分片算法：

通过分片算法将数据分片，支持通过=、BETWEEN、IN分片。分片算法需要应用方开发者自行实现。可实现的灵活度非常高。包括：精确分片算法、范围分片算法、复合分片算法等。例如：where order_id = ？将采用精确分片算法，where order_id in (?, ?, ?)将采用精确分片算法，where order_id BETWEEN ? and ? 将采用范围分片算法。符合分片算法用于分片键有多个的复杂情况。



#### 八、分片策略：

分片键和分片算法合起来就是分片策略。

