## 线程间通信

在java中每个线程都有自己独立的线程栈，栈与栈之间是无法数据互通的，那么线程与线程之间如何通信呢？



#### 等待/通知机制

概念：A线程进入等待，B线程工作完成后通知进入等待的A线程恢复工作。

注意点：

- wait()方法的调用注意点：Object类中的wait()方法可以使执行当前代码的线程等待，暂停执行，直到接到通知或被中断为止。<font color="red">wait()方法只能在同步代码块中由锁对象调用</font>。调用wait()方法后，当前线程会释放锁。
- wait(long)方法的调用注意点：跟wait()方法使用一致，不过是带了个超时时间，即挂起指定的时候后，如果被唤醒，那么线程会自动唤醒自己。
- notify()方法的调用注意点：Object类中的notify()方法可以唤醒等待的线程，该方法也必须在获取到锁的前提下才能使用，<font color="red">notify()方法只能在同步代码块中由锁对象调用</font>。如果有多个等待的线程，notify()方法会随机唤醒一个！<font color="red">调用notify()方法后不会立即释放锁！</font>
- notifyAll()方法的调用注意点：Object类中的notifyAll()方法可以唤醒等待的线程，该方法也必须在获取到锁的前提下才能使用，<font color="red">notifyAll()方法只能在同步代码块中由锁对象调用</font>。如果有多个等待的线程，notifyAll()方法会唤醒所有等待的线程！<font color="red">调用notifyAll()方法后不会立即释放锁！</font>

