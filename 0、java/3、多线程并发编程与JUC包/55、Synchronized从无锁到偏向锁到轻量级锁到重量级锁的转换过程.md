## Synchronized从无锁到偏向锁到轻量级锁到重量级锁的转换过程



1. 无锁状态：是Synchronized的初始状态
2. 偏向锁：当有一个线程获取到了Synchronized的锁后，Synchronized的锁就会升级为偏向锁，在锁的对象头中记录下当前获取到该所的线程ID，该线程下次如果又来获取锁可以直接获取。
3. 轻量级锁：当又有一个线程来竞争Synchronized锁，那么此时Synchronized就会升级为轻量级锁，之所以叫轻量级锁是为了跟重量级锁区分开，轻量级锁底层跟CAS类似是通过自旋锁的方式（自旋并不会阻塞线程，也就不需要唤醒线程，阻塞和唤醒这两个步骤是需要操作系统接入的，比较消耗时间）线程一直在运行中，所以轻量级锁比较轻量
4. 重量级锁，当尝试获取Synchronized锁的线程自旋次数过多仍然没有获取到锁，则升级为重量级锁，然后线程就会被挂起，等待唤醒。

