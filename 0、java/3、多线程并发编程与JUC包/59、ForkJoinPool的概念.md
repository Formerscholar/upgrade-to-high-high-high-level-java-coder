## ForkJoinPool的概念

ForkJoinPool最重要的思想是 “分而治之”。比如，我们有1000个任务要处理，但是系统又不具备一次性处理1000个任务的能力，系统负载是一次只能处理10个任务。如果使用ForkJoinPool，我们可以将这1000个任务分成100个小任务，每个小任务处理10个任务，最后把100个小任务的处理结果进行合成，形成最后这1000个数据的处理结果。

![avatar](../images/WechatIMG684.png)



java对ForkJoinPool线程池进行了优化，提交的任务数量与线程的数量并不一定是一对一关系。在多数情况下，一个物理线程实际上需要处理多个逻辑任务。【线程A把自己的任务执行完毕了，线程B的任务队列中还有若干的任务等待执行，线程A会从线程B的等待队列中取任务帮助线程B完成，线程A在帮助线程B执行任务时，总是从线程B的等待队列的底部开始取任务！】

![avatar](../images/WechatIMG685.png)